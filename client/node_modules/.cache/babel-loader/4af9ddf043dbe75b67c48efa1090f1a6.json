{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/karl/vscode/video-game-data/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"/home/karl/vscode/video-game-data/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/karl/vscode/video-game-data/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import\"./Games.css\";import Game from\"../Game/Game\";import SearchBar from\"../SearchBar/SearchBar\";import RadioButtons from\"../RadioButtons/RadioButtons\";import LoadMoreBtn from\"../LoadMoreBtn/LoadMoreBtn\";function Games(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState({titleInput:\"\",publisherInput:\"\",radioButtonInput:\"year\",arrowBtn:true,// pointing up if true\nnumOfGames:20// pagination number\n}),_React$useState4=_slicedToArray(_React$useState3,2),searchInput=_React$useState4[0],setSearchInput=_React$useState4[1];useEffect(function(){fetch(\"https://video-game-data-api.herokuapp.com/api/video-game-data/data\",//\"http://localhost:5000/api/video-game-data/data\",\n{method:\"GET\"}).then(function(res){return res.json();}).then(function(data){return setData(data.data);}).catch(function(error){return alert(\"Sorry! Looks like my api is not working :(\");});},[]);var onTitleInputChange=function onTitleInputChange(e){setSearchInput(_objectSpread(_objectSpread({},searchInput),{},{titleInput:e.target.value.toLowerCase()}));};var onPublisherInputChange=function onPublisherInputChange(e){setSearchInput(_objectSpread(_objectSpread({},searchInput),{},{publisherInput:e.target.value.toLowerCase()}));};var onRadioButtonClick=function onRadioButtonClick(selection){setSearchInput(_objectSpread(_objectSpread({},searchInput),{},{radioButtonInput:selection}));};var onArrowClick=function onArrowClick(){setSearchInput(_objectSpread(_objectSpread({},searchInput),{},{arrowBtn:!searchInput.arrowBtn}));};var onLoadMoreBtnClick=function onLoadMoreBtnClick(){setSearchInput(_objectSpread(_objectSpread({},searchInput),{},{numOfGames:searchInput.numOfGames+20}));};// Takes the records from the dataset as an array and returns\n// Game components for each\nvar createGameComponents=function createGameComponents(gamesArray){var gamesList=gamesArray.slice(0,searchInput.numOfGames).map(function(row){return/*#__PURE__*/_jsx(Game,{gameData:row},row.id);});console.log(\"finished creating game components\");return gamesList;};var resultsCount;// Just want this for load more btn\nvar sortGames=function sortGames(gamesArray){// These variables need to change for ascending/descending ordering\nvar val1=searchInput.arrowBtn?-1:1;var val2=searchInput.arrowBtn?1:-1;switch(searchInput.radioButtonInput){case\"year\":resultsCount=gamesArray.length;return gamesArray.sort(function(a,b){return a.YearReleased>b.YearReleased?val1:val2;});case\"sales\":resultsCount=gamesArray.length;return gamesArray.sort(function(a,b){return a[\"US Sales (millions)\"]>b[\"US Sales (millions)\"]?val1:val2;});case\"review-score\":resultsCount=gamesArray.length;return gamesArray.sort(function(a,b){return a[\"Review Score\"]>b[\"Review Score\"]?val1:val2;});default:break;}};// Here we either pass all our game data to createGameComponents()\n// or filter some out\nvar gamesList;if(!searchInput.titleInput&&!searchInput.publisherInput){gamesList=createGameComponents(sortGames(data));}else{var rowsCopy=_toConsumableArray(data);// dont want to manipulate actual data\nif(searchInput.titleInput){rowsCopy=rowsCopy.filter(function(row){return row.Title.toLowerCase().includes(searchInput.titleInput.toLowerCase());});}if(searchInput.publisherInput){rowsCopy=rowsCopy.filter(function(row){return row.Publisher.toLowerCase().includes(searchInput.publisherInput.toLowerCase());});}gamesList=createGameComponents(sortGames(rowsCopy));}return/*#__PURE__*/_jsxs(\"div\",{className:\"games\",children:[/*#__PURE__*/_jsx(SearchBar,{placeholder:\"Search by Tile...\",onChange:onTitleInputChange}),/*#__PURE__*/_jsx(SearchBar,{placeholder:\"Search by Publisher...\",onChange:onPublisherInputChange}),/*#__PURE__*/_jsx(RadioButtons,{onClick:onRadioButtonClick,onArrowClick:onArrowClick,buttonVal:searchInput.radioButtonInput,arrowBtn:searchInput.arrowBtn}),gamesList,/*#__PURE__*/_jsxs(\"p\",{children:[\"Showing\",\" \",searchInput.numOfGames>resultsCount?resultsCount:searchInput.numOfGames,\" \",\"of \",resultsCount,\" results\"]}),resultsCount>20?/*#__PURE__*/_jsx(LoadMoreBtn,{onClick:onLoadMoreBtnClick}):null]});}export default Games;","map":{"version":3,"sources":["/home/karl/vscode/video-game-data/client/src/Components/Games/Games.js"],"names":["React","useEffect","Game","SearchBar","RadioButtons","LoadMoreBtn","Games","useState","data","setData","titleInput","publisherInput","radioButtonInput","arrowBtn","numOfGames","searchInput","setSearchInput","fetch","method","then","res","json","catch","error","alert","onTitleInputChange","e","target","value","toLowerCase","onPublisherInputChange","onRadioButtonClick","selection","onArrowClick","onLoadMoreBtnClick","createGameComponents","gamesArray","gamesList","slice","map","row","id","console","log","resultsCount","sortGames","val1","val2","length","sort","a","b","YearReleased","rowsCopy","filter","Title","includes","Publisher"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport \"./Games.css\";\nimport Game from \"../Game/Game\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport RadioButtons from \"../RadioButtons/RadioButtons\";\nimport LoadMoreBtn from \"../LoadMoreBtn/LoadMoreBtn\";\n\nfunction Games() {\n  const [data, setData] = React.useState([]);\n  const [searchInput, setSearchInput] = React.useState({\n    titleInput: \"\",\n    publisherInput: \"\",\n    radioButtonInput: \"year\",\n    arrowBtn: true, // pointing up if true\n    numOfGames: 20, // pagination number\n  });\n\n  useEffect(() => {\n    fetch(\n      \"https://video-game-data-api.herokuapp.com/api/video-game-data/data\",\n      //\"http://localhost:5000/api/video-game-data/data\",\n      {\n        method: \"GET\",\n      }\n    )\n      .then((res) => res.json())\n      .then((data) => setData(data.data))\n      .catch((error) => alert(\"Sorry! Looks like my api is not working :(\"));\n  }, []);\n\n  const onTitleInputChange = (e) => {\n    setSearchInput({\n      ...searchInput,\n      titleInput: e.target.value.toLowerCase(),\n    });\n  };\n\n  const onPublisherInputChange = (e) => {\n    setSearchInput({\n      ...searchInput,\n      publisherInput: e.target.value.toLowerCase(),\n    });\n  };\n\n  const onRadioButtonClick = (selection) => {\n    setSearchInput({\n      ...searchInput,\n      radioButtonInput: selection,\n    });\n  };\n\n  const onArrowClick = () => {\n    setSearchInput({ ...searchInput, arrowBtn: !searchInput.arrowBtn });\n  };\n\n  const onLoadMoreBtnClick = () => {\n    setSearchInput({\n      ...searchInput,\n      numOfGames: searchInput.numOfGames + 20,\n    });\n  };\n\n  // Takes the records from the dataset as an array and returns\n  // Game components for each\n  const createGameComponents = (gamesArray) => {\n    let gamesList = gamesArray.slice(0, searchInput.numOfGames).map((row) => {\n      return <Game gameData={row} key={row.id} />;\n    });\n    console.log(\"finished creating game components\");\n    return gamesList;\n  };\n\n  let resultsCount; // Just want this for load more btn\n\n  const sortGames = (gamesArray) => {\n    // These variables need to change for ascending/descending ordering\n    const val1 = searchInput.arrowBtn ? -1 : 1;\n    const val2 = searchInput.arrowBtn ? 1 : -1;\n\n    switch (searchInput.radioButtonInput) {\n      case \"year\":\n        resultsCount = gamesArray.length;\n        return gamesArray.sort((a, b) =>\n          a.YearReleased > b.YearReleased ? val1 : val2\n        );\n      case \"sales\":\n        resultsCount = gamesArray.length;\n        return gamesArray.sort((a, b) =>\n          a[\"US Sales (millions)\"] > b[\"US Sales (millions)\"] ? val1 : val2\n        );\n      case \"review-score\":\n        resultsCount = gamesArray.length;\n        return gamesArray.sort((a, b) =>\n          a[\"Review Score\"] > b[\"Review Score\"] ? val1 : val2\n        );\n      default:\n        break;\n    }\n  };\n\n  // Here we either pass all our game data to createGameComponents()\n  // or filter some out\n  let gamesList;\n\n  if (!searchInput.titleInput && !searchInput.publisherInput) {\n    gamesList = createGameComponents(sortGames(data));\n  } else {\n    let rowsCopy = [...data]; // dont want to manipulate actual data\n    if (searchInput.titleInput) {\n      rowsCopy = rowsCopy.filter((row) =>\n        row.Title.toLowerCase().includes(searchInput.titleInput.toLowerCase())\n      );\n    }\n    if (searchInput.publisherInput) {\n      rowsCopy = rowsCopy.filter((row) =>\n        row.Publisher.toLowerCase().includes(\n          searchInput.publisherInput.toLowerCase()\n        )\n      );\n    }\n    gamesList = createGameComponents(sortGames(rowsCopy));\n  }\n\n  return (\n    <div className=\"games\">\n      <SearchBar\n        placeholder=\"Search by Tile...\"\n        onChange={onTitleInputChange}\n      />\n      <SearchBar\n        placeholder=\"Search by Publisher...\"\n        onChange={onPublisherInputChange}\n      />\n      <RadioButtons\n        onClick={onRadioButtonClick}\n        onArrowClick={onArrowClick}\n        buttonVal={searchInput.radioButtonInput}\n        arrowBtn={searchInput.arrowBtn}\n      />\n\n      {gamesList}\n      <p>\n        Showing{\" \"}\n        {searchInput.numOfGames > resultsCount\n          ? resultsCount\n          : searchInput.numOfGames}{\" \"}\n        of {resultsCount} results\n      </p>\n      {resultsCount > 20 ? <LoadMoreBtn onClick={onLoadMoreBtnClick} /> : null}\n    </div>\n  );\n}\nexport default Games;\n"]},"metadata":{},"sourceType":"module"}